
# ðŸ§™â€â™‚ï¸ Startup Wizard V2 â€” Smart Intake & AI Analysis

**Version:** 2.1 | **Status:** ðŸŸ¢ Live | **Owner:** Product Engineering

---

## ðŸ“‹ Executive Summary
This module transforms the onboarding experience from simple data entry into a "Smart Intake Engine". 
Step 1 captures context (URLs, Search Terms), and Step 2 presents a high-fidelity "Intelligence Brief" generated by Gemini 3 Pro using Search Grounding. This brief pre-fills the rest of the wizard.

---

## ðŸ“Š Progress Tracker

| Feature | Status | Description |
|:---|:---|:---|
| **Data Model** | ðŸŸ¢ Done | Types updated for `additionalUrls` and `founder_intelligence`. |
| **Step 1: Input** | ðŸŸ¢ Done | Added Multi-URL, Search Terms, and Smart Autofill logic. |
| **AI: Context Engine** | ðŸŸ¢ Done | `analyzeContext` Edge Function uses Gemini 3 Pro + Search. |
| **AI: Founder Detection**| ðŸŸ¢ Done | Returns array of founders with skills and bios. |
| **Step 2: UI** | ðŸŸ¢ Done | New "Mission Control" layout with Founder Cards, Signals, and Research Log. |
| **Data Wiring** | ðŸŸ¢ Done | AI results map directly to `formData` for subsequent steps. |

---

## âœ… Workflow Validation Checklist (Step 1 â†’ Step 2)

**Test Date:** 2025-05-21
**Result:** **PASS**

1.  **URL Context Extraction:**
    *   [x] Website URL processed? **YES**
    *   [x] LinkedIn URL processed? **YES**
    *   [x] Extra URLs (blogs/docs) processed? **YES**

2.  **Search Grounding:**
    *   [x] Uses startup name + industry + search terms? **YES**
    *   [x] Extracts real competitors with citations? **YES** (Stored in `detected_signals.market`)

3.  **Founder Forensics:**
    *   [x] Extracts Founder Name, Title, Bio? **YES**
    *   [x] Handles multiple founders (Array)? **YES**
    *   [x] Infers skills/education? **YES**

4.  **Product & Market:**
    *   [x] Extracts Value Prop & Features? **YES**
    *   [x] Infers Target Audience? **YES**
    *   [x] Suggests Pricing Model? **YES**

5.  **Output Structure:**
    *   [x] JSON matches `founder_intelligence` schema? **YES**
    *   [x] JSON matches `detected_signals` schema? **YES**
    *   [x] No Markdown leakage in JSON? **YES** (Cleaned via `cleanJson`)

---

## ðŸŽ¨ UI Specification: Step 2 "AI Analysis"

**Goal:** Provide a "Wow" moment where the user sees the depth of intelligence gathered before they even type a bio.

**Layout:** 1440px Grid (12 Col)
**Style:** Modern SaaS (White, Slate-900, Indigo-600)

### **Zone 1: Hero Summary (Full Width)**
*   **Visual:** Dark gradient card (`from-slate-900 to-indigo-950`).
*   **Content:**
    *   Startup Name (Large).
    *   3-4 sentence "Executive Summary" synthesized by AI.
    *   Badges: Industry Detected, Product Category, "Search Grounded".

### **Zone 2: Founder Intelligence (Left Col - 7/12)**
*   **Visual:** List of Cards (LinkedIn style).
*   **Content Per Founder:**
    *   Avatar (Initial or extracted image).
    *   Name, Title, Headline.
    *   Bio (2-3 sentences).
    *   **Highlights:** "Experience at [Company]", "Education from [University]".
    *   **Skills:** Tags (e.g., "SaaS Sales", "React").

### **Zone 3: Website Context (Left Col - 7/12)**
*   **Visual:** White card, clean typography.
*   **Content:**
    *   **Value Prop:** Extracted H1/Meta description analysis.
    *   **Target Audience:** Inferred ICP.
    *   **Key Features:** List of detected capabilities.

### **Zone 4: Detected Signals (Right Col - 5/12)**
*   **Visual:** Dark "Matrix" style card (`bg-slate-900`).
*   **Structure:** Grouped by Category.
    *   **General:** Business Model, Stage.
    *   **Product:** Core Problem, Solution Theme.
    *   **Market:** Segment, Trends.
    *   **Founder Fit:** Founder-Market Fit Score.

### **Zone 5: Action & Research (Right Col - 5/12)**
*   **Next Actions:** Actionable checklist (e.g., "Verify Founder Bio", "Review Competitors").
*   **Research Log:** Terminal-style footer showing query log (e.g., `> searching "Acme Corp competitors"...`).

---

## ðŸ§  Data Flow Logic

1.  **Step 1 Submit:**
    *   Calls `WizardService.analyzeContext`.
    *   AI returns giant JSON object.
2.  **State Update:**
    *   `aiAnalysisResult` -> Stored in `formData` (for Step 2 display).
    *   `founder_intelligence` -> Mapped to `formData.founders` (for Step 3 pre-fill).
    *   `wizard_autofill` -> Mapped to `formData.problem`, `formData.solution`, `formData.competitors` (for Step 4 pre-fill).
3.  **Step 2 Render:**
    *   Read-only view of `aiAnalysisResult`.
    *   User validates accuracy visually.
4.  **Step 3 (Team):**
    *   Fields are pre-filled with data from Step 1.
